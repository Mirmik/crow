\hypertarget{packet_8h}{}\doxysection{/home/mirmik/project/crow/crow/packet.h File Reference}
\label{packet_8h}\index{/home/mirmik/project/crow/crow/packet.h@{/home/mirmik/project/crow/crow/packet.h}}


Всё, что касается работы с пакетом.  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$crow/defs.\+h$>$}\newline
{\ttfamily \#include $<$crow/hostaddr.\+h$>$}\newline
{\ttfamily \#include $<$igris/container/pool.\+h$>$}\newline
{\ttfamily \#include $<$igris/datastruct/dlist.\+h$>$}\newline
{\ttfamily \#include $<$string\+\_\+view$>$}\newline
Include dependency graph for packet.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{packet_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{packet_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcrow_1_1header}{crow\+::header}}
\begin{DoxyCompactList}\small\item\em Структура заголовок пакета. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}}
\end{DoxyCompactItemize}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespacecrow}{crow}}
\begin{DoxyCompactList}\small\item\em Абстрактный класс врат. Врата отвечают за пересылку пакетов между башнями. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{packet_8h_a0adccb56473a7339c3b06c8eefdc2b07}\label{packet_8h_a0adccb56473a7339c3b06c8eefdc2b07}} 
\#define \mbox{\hyperlink{packet_8h_a0adccb56473a7339c3b06c8eefdc2b07}{C\+R\+O\+W\+\_\+\+W\+I\+T\+H\+O\+U\+T\+\_\+\+A\+CK}}~0
\begin{DoxyCompactList}\small\item\em Качество обслуживания. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{packet_8h_a790571f337d851d17bd2ed402618c128}\label{packet_8h_a790571f337d851d17bd2ed402618c128}} 
\#define {\bfseries C\+R\+O\+W\+\_\+\+T\+A\+R\+G\+E\+T\+\_\+\+A\+CK}~1
\item 
\mbox{\Hypertarget{packet_8h_a2b04841c6e0d692018575ce0dd9f1654}\label{packet_8h_a2b04841c6e0d692018575ce0dd9f1654}} 
\#define {\bfseries C\+R\+O\+W\+\_\+\+B\+I\+N\+A\+R\+Y\+\_\+\+A\+CK}~2
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacecrow_aebf69bec7e5c932444f6543fd73373b6}\label{namespacecrow_aebf69bec7e5c932444f6543fd73373b6}} 
struct \mbox{\hyperlink{structcrow_1_1header}{crow\+::header}} {\bfseries crow\+::\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((packed))
\item 
\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$ \mbox{\hyperlink{namespacecrow_af869be273dc57c52d94578cccf668f6c}{crow\+::allocate\+\_\+packet}} (size\+\_\+t adlen)
\item 
\mbox{\Hypertarget{namespacecrow_ae008d943e6e56658e3b591a124b217b4}\label{namespacecrow_ae008d943e6e56658e3b591a124b217b4}} 
void \mbox{\hyperlink{namespacecrow_ae008d943e6e56658e3b591a124b217b4}{crow\+::deallocate\+\_\+packet}} (\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack)
\begin{DoxyCompactList}\small\item\em Вернуть память выделенную для пакета pack. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespacecrow_a9edbd5290d81620afd9b3eca97e81ac4}\label{namespacecrow_a9edbd5290d81620afd9b3eca97e81ac4}} 
packet $\ast$ {\bfseries crow\+::create\+\_\+packet} (struct \mbox{\hyperlink{classcrow_1_1gateway}{crow\+::gateway}} $\ast$ingate, uint8\+\_\+t addrsize, size\+\_\+t datasize)
\item 
\mbox{\Hypertarget{namespacecrow_ad1214c346e3c83accd028bb705fff9b9}\label{namespacecrow_ad1214c346e3c83accd028bb705fff9b9}} 
void {\bfseries crow\+::packet\+\_\+initialization} (struct \mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack, struct \mbox{\hyperlink{classcrow_1_1gateway}{crow\+::gateway}} $\ast$ingate)
\item 
\mbox{\Hypertarget{namespacecrow_afc2988668f420f6f1e9ad74040240411}\label{namespacecrow_afc2988668f420f6f1e9ad74040240411}} 
void {\bfseries crow\+::engage\+\_\+packet\+\_\+pool} (void $\ast$zone, size\+\_\+t zonesize, size\+\_\+t elsize)
\item 
\mbox{\Hypertarget{namespacecrow_a96b662c36b095d347fb4ff9978d31f3e}\label{namespacecrow_a96b662c36b095d347fb4ff9978d31f3e}} 
igris\+::pool $\ast$ {\bfseries crow\+::get\+\_\+package\+\_\+pool} ()
\item 
\mbox{\Hypertarget{namespacecrow_a90d96b5e1147121b64e651e54089ecbf}\label{namespacecrow_a90d96b5e1147121b64e651e54089ecbf}} 
bool {\bfseries crow\+::has\+\_\+allocated} ()
\item 
\mbox{\Hypertarget{namespacecrow_a49c1b8df1b3f4676c8a44eec692d917a}\label{namespacecrow_a49c1b8df1b3f4676c8a44eec692d917a}} 
void {\bfseries crow\+::diagnostic} (const char $\ast$label, \mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{packet_8h_add573979b7f6cf349fd2b472b39d5492}\label{packet_8h_add573979b7f6cf349fd2b472b39d5492}} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
union \{\\
\>uint8\_t \mbox{\hyperlink{packet_8h_a3164c796329acaed24b684e37c43c508}{pflag}}\\
\>\>{\em Флаги пакета }\\
\>struct \{\\
\>\>uint8\_t \mbox{\hyperlink{packet_8h_a14dbae2f3dab6a22c58072df0fc13ff6}{ack}}: 1\\
\>\>uint8\_t {\bfseries RESERVED}: 1\\
\>\>uint8\_t \mbox{\hyperlink{packet_8h_a8f774292f12c91f7decf411393c72bc5}{noexec}}: 1\\
\>\>uint8\_t \mbox{\hyperlink{packet_8h_a1d127017fb298b889f4ba24752d08b8e}{type}}: 5\\
\>\>\>{\em Доп. инф. зависит от ситуации. }\\
\>\} {\bfseries f}\\
\}; \\

\end{tabbing}\item 
\mbox{\Hypertarget{packet_8h_a7d7a2993fb6f4bc6664042fae0c6b8f5}\label{packet_8h_a7d7a2993fb6f4bc6664042fae0c6b8f5}} 
uint16\+\_\+t \mbox{\hyperlink{packet_8h_a7d7a2993fb6f4bc6664042fae0c6b8f5}{flen}}
\begin{DoxyCompactList}\small\item\em Полная длина пакета \end{DoxyCompactList}\item 
\mbox{\Hypertarget{packet_8h_a02e556101e8d5a49c190bb37c5454f4a}\label{packet_8h_a02e556101e8d5a49c190bb37c5454f4a}} 
uint8\+\_\+t \mbox{\hyperlink{packet_8h_a02e556101e8d5a49c190bb37c5454f4a}{alen}}
\begin{DoxyCompactList}\small\item\em Длина поля адреса. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{packet_8h_ac245a447a0e67db7e31318b4113aecfb}{stg}}
\item 
\mbox{\Hypertarget{packet_8h_ae3cd29bdc0b37cdc21a92911b61c9b59}\label{packet_8h_ae3cd29bdc0b37cdc21a92911b61c9b59}} 
uint16\+\_\+t \mbox{\hyperlink{packet_8h_ae3cd29bdc0b37cdc21a92911b61c9b59}{ackquant}}
\begin{DoxyCompactList}\small\item\em Таймаут для пересылки пакета. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{packet_8h_a655f06adfd2440188afe47c9a5fe4f8e}\label{packet_8h_a655f06adfd2440188afe47c9a5fe4f8e}} 
uint16\+\_\+t \mbox{\hyperlink{packet_8h_a655f06adfd2440188afe47c9a5fe4f8e}{seqid}}
\begin{DoxyCompactList}\small\item\em Порядковый номер пакета. Присваивается отправителем. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}\label{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}} 
uint8\+\_\+t \mbox{\hyperlink{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}
\begin{DoxyCompactList}\small\item\em Поле качества обслуживания. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespacecrow_a5047d3e5e234ec290fc4d28e1173f163}\label{namespacecrow_a5047d3e5e234ec290fc4d28e1173f163}} 
struct \mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} {\bfseries crow\+::\+\_\+\+\_\+attribute\+\_\+\+\_\+}
\item 
\mbox{\Hypertarget{namespacecrow_a0701ef16c64052fb1e0d35b069e6d1de}\label{namespacecrow_a0701ef16c64052fb1e0d35b069e6d1de}} 
int {\bfseries crow\+::allocated\+\_\+count} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Всё, что касается работы с пакетом. 



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{packet_8h_a14dbae2f3dab6a22c58072df0fc13ff6}\label{packet_8h_a14dbae2f3dab6a22c58072df0fc13ff6}} 
\index{packet.h@{packet.h}!ack@{ack}}
\index{ack@{ack}!packet.h@{packet.h}}
\doxysubsubsection{\texorpdfstring{ack}{ack}}
{\footnotesize\ttfamily uint8\+\_\+t ack}

Идентифицирует ack пакеты. Доп.\+инф. передается в типе. \mbox{\Hypertarget{packet_8h_a8f774292f12c91f7decf411393c72bc5}\label{packet_8h_a8f774292f12c91f7decf411393c72bc5}} 
\index{packet.h@{packet.h}!noexec@{noexec}}
\index{noexec@{noexec}!packet.h@{packet.h}}
\doxysubsubsection{\texorpdfstring{noexec}{noexec}}
{\footnotesize\ttfamily uint8\+\_\+t noexec}

Флаг предотвращает исполнение пакета. Используется для запросов существования \mbox{\Hypertarget{packet_8h_ac245a447a0e67db7e31318b4113aecfb}\label{packet_8h_ac245a447a0e67db7e31318b4113aecfb}} 
\index{packet.h@{packet.h}!stg@{stg}}
\index{stg@{stg}!packet.h@{packet.h}}
\doxysubsubsection{\texorpdfstring{stg}{stg}}
{\footnotesize\ttfamily uint8\+\_\+t stg}

Поле стадии. Используется для того, чтобы цепочка врат знала, какую часть адреса обрабатывать. 