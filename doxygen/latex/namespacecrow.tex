\hypertarget{namespacecrow}{}\doxysection{crow Namespace Reference}
\label{namespacecrow}\index{crow@{crow}}


Абстрактный класс врат. Врата отвечают за пересылку пакетов между башнями.  


\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcrow_1_1acceptor}{acceptor}}
\item 
class \mbox{\hyperlink{classcrow_1_1channel}{channel}}
\item 
class \mbox{\hyperlink{classcrow_1_1cli__node}{cli\+\_\+node}}
\item 
class \mbox{\hyperlink{classcrow_1_1crowker}{crowker}}
\item 
class \mbox{\hyperlink{classcrow_1_1crowker__service__control__node__cls}{crowker\+\_\+service\+\_\+control\+\_\+node\+\_\+cls}}
\item 
class \mbox{\hyperlink{classcrow_1_1gateway}{gateway}}
\item 
struct \mbox{\hyperlink{structcrow_1_1header}{header}}
\begin{DoxyCompactList}\small\item\em Структура заголовок пакета. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classcrow_1_1hostaddr}{hostaddr}}
\item 
class \mbox{\hyperlink{classcrow_1_1hostaddr__view}{hostaddr\+\_\+view}}
\item 
class \mbox{\hyperlink{classcrow_1_1msgbox}{msgbox}}
\item 
class \mbox{\hyperlink{classcrow_1_1node}{node}}
\item 
class \mbox{\hyperlink{classcrow_1_1node__delegate}{node\+\_\+delegate}}
\item 
class \mbox{\hyperlink{classcrow_1_1node__packet__ptr}{node\+\_\+packet\+\_\+ptr}}
\item 
class \mbox{\hyperlink{classcrow_1_1node__protocol__cls}{node\+\_\+protocol\+\_\+cls}}
\item 
struct \mbox{\hyperlink{structcrow_1_1node__subheader}{node\+\_\+subheader}}
\item 
struct \mbox{\hyperlink{structcrow_1_1node__subheader__annotation}{node\+\_\+subheader\+\_\+annotation}}
\item 
class \mbox{\hyperlink{classcrow_1_1nodeaddr}{nodeaddr}}
\item 
struct \mbox{\hyperlink{structcrow_1_1nodeaddr__t}{nodeaddr\+\_\+t}}
\item 
class \mbox{\hyperlink{classcrow_1_1nospublisher}{nospublisher}}
\item 
class \mbox{\hyperlink{classcrow_1_1nospublisher__buffered}{nospublisher\+\_\+buffered}}
\item 
class \mbox{\hyperlink{classcrow_1_1oneshoot__async__requester}{oneshoot\+\_\+async\+\_\+requester}}
\item 
struct \mbox{\hyperlink{structcrow_1_1packet}{packet}}
\item 
class \mbox{\hyperlink{classcrow_1_1packet__ptr}{packet\+\_\+ptr}}
\item 
class \mbox{\hyperlink{classcrow_1_1protocol}{protocol}}
\item 
class \mbox{\hyperlink{classcrow_1_1publish__logger}{publish\+\_\+logger}}
\item 
class \mbox{\hyperlink{classcrow_1_1publisher}{publisher}}
\item 
class \mbox{\hyperlink{classcrow_1_1pubsub__packet__ptr}{pubsub\+\_\+packet\+\_\+ptr}}
\item 
class \mbox{\hyperlink{classcrow_1_1pubsub__protocol__cls}{pubsub\+\_\+protocol\+\_\+cls}}
\item 
class \mbox{\hyperlink{classcrow_1_1remote__function}{remote\+\_\+function}}
\item 
class \mbox{\hyperlink{classcrow_1_1remote__function__basic}{remote\+\_\+function\+\_\+basic}}
\item 
class \mbox{\hyperlink{classcrow_1_1rpc__node}{rpc\+\_\+node}}
\item 
class \mbox{\hyperlink{classcrow_1_1rpc__request__node}{rpc\+\_\+request\+\_\+node}}
\item 
class \mbox{\hyperlink{classcrow_1_1rpc__requestor}{rpc\+\_\+requestor}}
\item 
class \mbox{\hyperlink{classcrow_1_1sender}{sender}}
\item 
struct \mbox{\hyperlink{structcrow_1_1serial__gstuff}{serial\+\_\+gstuff}}
\item 
struct \mbox{\hyperlink{structcrow_1_1serial__gstuff__v1}{serial\+\_\+gstuff\+\_\+v1}}
\item 
struct \mbox{\hyperlink{structcrow_1_1service__record}{service\+\_\+record}}
\item 
class \mbox{\hyperlink{classcrow_1_1service__retransler}{service\+\_\+retransler}}
\item 
class \mbox{\hyperlink{classcrow_1_1socket}{socket}}
\item 
class \mbox{\hyperlink{classcrow_1_1socket__base}{socket\+\_\+base}}
\item 
class \mbox{\hyperlink{classcrow_1_1spam__subscriber}{spam\+\_\+subscriber}}
\item 
class \mbox{\hyperlink{classcrow_1_1spammer}{spammer}}
\item 
struct \mbox{\hyperlink{structcrow_1_1subheader__channel}{subheader\+\_\+channel}}
\item 
struct \mbox{\hyperlink{structcrow_1_1subheader__handshake}{subheader\+\_\+handshake}}
\item 
class \mbox{\hyperlink{classcrow_1_1subscriber}{subscriber}}
\item 
class \mbox{\hyperlink{classcrow_1_1udpgate}{udpgate}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacecrow_a7937458f6365f112b5c69e25a4cba68c}\label{namespacecrow_a7937458f6365f112b5c69e25a4cba68c}} 
using {\bfseries nid\+\_\+t} = uint16\+\_\+t
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacecrow_a64a61c405a97e44a23b7db6695c10b58}\label{namespacecrow_a64a61c405a97e44a23b7db6695c10b58}} 
enum {\bfseries service\+\_\+type\+\_\+e} \+: uint8\+\_\+t \{ {\bfseries C\+R\+O\+W\+K\+E\+R\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+N\+O\+DE} = 0, 
{\bfseries C\+R\+O\+W\+K\+E\+R\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+C\+H\+A\+N\+N\+EL} = 1
 \}
\item 
\mbox{\Hypertarget{namespacecrow_ace4ce19b7ba178ab9bd8457b40269b22}\label{namespacecrow_ace4ce19b7ba178ab9bd8457b40269b22}} 
enum {\bfseries Frame} \+: uint8\+\_\+t \{ {\bfseries H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+R\+E\+Q\+U\+E\+ST} = 0, 
{\bfseries H\+A\+N\+D\+S\+H\+A\+K\+E\+\_\+\+A\+N\+S\+W\+ER} = 1, 
{\bfseries D\+A\+TA} = 2, 
{\bfseries R\+E\+F\+U\+SE} = 3
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacecrow_a1759eb18d6abac2d7f1b7d52e8f49840}\label{namespacecrow_a1759eb18d6abac2d7f1b7d52e8f49840}} 
\mbox{\hyperlink{classcrow_1_1hostaddr}{hostaddr}} {\bfseries crowker\+\_\+address} ()
\item 
\mbox{\Hypertarget{namespacecrow_a6ca12626152701d81fecf6a00e8ccd79}\label{namespacecrow_a6ca12626152701d81fecf6a00e8ccd79}} 
\mbox{\hyperlink{classcrow_1_1hostaddr}{hostaddr}} {\bfseries address} (const std\+::string\+\_\+view \&in)
\item 
\mbox{\Hypertarget{namespacecrow_a79a255f74fbdec19aa918e7d8cbced7d}\label{namespacecrow_a79a255f74fbdec19aa918e7d8cbced7d}} 
\mbox{\hyperlink{classcrow_1_1hostaddr}{hostaddr}} {\bfseries address\+\_\+warned} (const std\+::string\+\_\+view \&in)
\item 
\mbox{\Hypertarget{namespacecrow_a1d59f895f2dfed41424a1bb22c3a199f}\label{namespacecrow_a1d59f895f2dfed41424a1bb22c3a199f}} 
void {\bfseries async\+\_\+request\+\_\+callback} (void $\ast$arg, int sts, \mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack)
\item 
\mbox{\Hypertarget{namespacecrow_aa4813299634251e85e4c72d3afe7e1bd}\label{namespacecrow_aa4813299634251e85e4c72d3afe7e1bd}} 
\mbox{\hyperlink{classcrow_1_1crowker__service__control__node__cls}{crowker\+\_\+service\+\_\+control\+\_\+node\+\_\+cls}} $\ast$ {\bfseries crowker\+\_\+service\+\_\+control\+\_\+node} ()
\item 
\mbox{\Hypertarget{namespacecrow_a896075199afa2f5a261782ebf907040a}\label{namespacecrow_a896075199afa2f5a261782ebf907040a}} 
\mbox{\hyperlink{structcrow_1_1serial__gstuff}{crow\+::serial\+\_\+gstuff}} $\ast$ {\bfseries create\+\_\+serial\+\_\+gstuff} (const char $\ast$path, uint32\+\_\+t baudrate, uint8\+\_\+t id, bool debug)
\item 
\mbox{\Hypertarget{namespacecrow_a136c14d339afa15d11e050873e0b27b7}\label{namespacecrow_a136c14d339afa15d11e050873e0b27b7}} 
\mbox{\hyperlink{structcrow_1_1serial__gstuff__v1}{crow\+::serial\+\_\+gstuff\+\_\+v1}} $\ast$ {\bfseries create\+\_\+serial\+\_\+gstuff\+\_\+v1} (const char $\ast$path, uint32\+\_\+t baudrate, uint8\+\_\+t id, bool debug)
\item 
\mbox{\Hypertarget{namespacecrow_a868ae2dab4d0a17864ce4daa9f064e85}\label{namespacecrow_a868ae2dab4d0a17864ce4daa9f064e85}} 
int {\bfseries create\+\_\+udpgate} (uint8\+\_\+t id=C\+R\+O\+W\+\_\+\+U\+D\+P\+G\+A\+T\+E\+\_\+\+NO, uint16\+\_\+t port=0)
\item 
\mbox{\Hypertarget{namespacecrow_a5d9ab89f388414f85da0c920e6866e1e}\label{namespacecrow_a5d9ab89f388414f85da0c920e6866e1e}} 
\mbox{\hyperlink{classcrow_1_1gateway}{gateway}} $\ast$ {\bfseries get\+\_\+gateway} (int no)
\item 
\mbox{\Hypertarget{namespacecrow_a45a738ffe6c24ec5883f3f039880f159}\label{namespacecrow_a45a738ffe6c24ec5883f3f039880f159}} 
std\+::vector$<$ \mbox{\hyperlink{classcrow_1_1gateway}{crow\+::gateway}} $\ast$ $>$ {\bfseries gates} ()
\item 
\mbox{\Hypertarget{namespacecrow_a03dc19eb454deddd1b8bd2b36f704751}\label{namespacecrow_a03dc19eb454deddd1b8bd2b36f704751}} 
std\+::vector$<$ \mbox{\hyperlink{classcrow_1_1node}{crow\+::node}} $\ast$ $>$ {\bfseries nodes} ()
\item 
\mbox{\Hypertarget{namespacecrow_aebf69bec7e5c932444f6543fd73373b6}\label{namespacecrow_aebf69bec7e5c932444f6543fd73373b6}} 
struct \mbox{\hyperlink{structcrow_1_1header}{crow\+::header}} {\bfseries \+\_\+\+\_\+attribute\+\_\+\+\_\+} ((packed))
\item 
\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$ \mbox{\hyperlink{namespacecrow_af869be273dc57c52d94578cccf668f6c}{allocate\+\_\+packet}} (size\+\_\+t adlen)
\item 
\mbox{\Hypertarget{namespacecrow_ae008d943e6e56658e3b591a124b217b4}\label{namespacecrow_ae008d943e6e56658e3b591a124b217b4}} 
void \mbox{\hyperlink{namespacecrow_ae008d943e6e56658e3b591a124b217b4}{deallocate\+\_\+packet}} (\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack)
\begin{DoxyCompactList}\small\item\em Вернуть память выделенную для пакета pack. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespacecrow_a9edbd5290d81620afd9b3eca97e81ac4}\label{namespacecrow_a9edbd5290d81620afd9b3eca97e81ac4}} 
\mbox{\hyperlink{structcrow_1_1packet}{packet}} $\ast$ {\bfseries create\+\_\+packet} (struct \mbox{\hyperlink{classcrow_1_1gateway}{crow\+::gateway}} $\ast$ingate, uint8\+\_\+t addrsize, size\+\_\+t datasize)
\item 
\mbox{\Hypertarget{namespacecrow_ad1214c346e3c83accd028bb705fff9b9}\label{namespacecrow_ad1214c346e3c83accd028bb705fff9b9}} 
void {\bfseries packet\+\_\+initialization} (struct \mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack, struct \mbox{\hyperlink{classcrow_1_1gateway}{crow\+::gateway}} $\ast$ingate)
\item 
\mbox{\Hypertarget{namespacecrow_afc2988668f420f6f1e9ad74040240411}\label{namespacecrow_afc2988668f420f6f1e9ad74040240411}} 
void {\bfseries engage\+\_\+packet\+\_\+pool} (void $\ast$zone, size\+\_\+t zonesize, size\+\_\+t elsize)
\item 
\mbox{\Hypertarget{namespacecrow_a96b662c36b095d347fb4ff9978d31f3e}\label{namespacecrow_a96b662c36b095d347fb4ff9978d31f3e}} 
igris\+::pool $\ast$ {\bfseries get\+\_\+package\+\_\+pool} ()
\item 
\mbox{\Hypertarget{namespacecrow_a90d96b5e1147121b64e651e54089ecbf}\label{namespacecrow_a90d96b5e1147121b64e651e54089ecbf}} 
bool {\bfseries has\+\_\+allocated} ()
\item 
\mbox{\Hypertarget{namespacecrow_a49c1b8df1b3f4676c8a44eec692d917a}\label{namespacecrow_a49c1b8df1b3f4676c8a44eec692d917a}} 
void {\bfseries diagnostic} (const char $\ast$label, \mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack)
\item 
\mbox{\Hypertarget{namespacecrow_afedbcb6bd9025f4ce652db652bc50418}\label{namespacecrow_afedbcb6bd9025f4ce652db652bc50418}} 
uint16\+\_\+t {\bfseries dynport} ()
\item 
\mbox{\Hypertarget{namespacecrow_a6b4e34e6061a1bde0aefe2de287931eb}\label{namespacecrow_a6b4e34e6061a1bde0aefe2de287931eb}} 
\mbox{\hyperlink{classcrow_1_1packet__ptr}{crow\+::packet\+\_\+ptr}} {\bfseries node\+\_\+send} (uint16\+\_\+t sid, uint16\+\_\+t rid, const \mbox{\hyperlink{classcrow_1_1hostaddr__view}{crow\+::hostaddr\+\_\+view}} \&addr, const std\+::string\+\_\+view data, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, uint16\+\_\+t \mbox{\hyperlink{packet_8h_ae3cd29bdc0b37cdc21a92911b61c9b59}{ackquant}}, bool fastsend=C\+R\+O\+W\+\_\+\+F\+A\+S\+T\+S\+E\+N\+D\+\_\+\+D\+E\+F\+A\+U\+LT)
\item 
\mbox{\Hypertarget{namespacecrow_a389336f4693557470d93a70c8ca7fbd6}\label{namespacecrow_a389336f4693557470d93a70c8ca7fbd6}} 
\mbox{\hyperlink{classcrow_1_1packet__ptr}{crow\+::packet\+\_\+ptr}} {\bfseries node\+\_\+send\+\_\+special} (uint16\+\_\+t sid, uint16\+\_\+t rid, const \mbox{\hyperlink{classcrow_1_1hostaddr__view}{crow\+::hostaddr\+\_\+view}} \&addr, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a1d127017fb298b889f4ba24752d08b8e}{type}}, const std\+::string\+\_\+view data, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, uint16\+\_\+t \mbox{\hyperlink{packet_8h_ae3cd29bdc0b37cdc21a92911b61c9b59}{ackquant}}, bool fastsend=C\+R\+O\+W\+\_\+\+F\+A\+S\+T\+S\+E\+N\+D\+\_\+\+D\+E\+F\+A\+U\+LT)
\item 
\mbox{\Hypertarget{namespacecrow_a61ad59cda08aea5e4224aaab0220cd01}\label{namespacecrow_a61ad59cda08aea5e4224aaab0220cd01}} 
\mbox{\hyperlink{classcrow_1_1packet__ptr}{crow\+::packet\+\_\+ptr}} {\bfseries node\+\_\+send\+\_\+v} (uint16\+\_\+t sid, uint16\+\_\+t rid, const \mbox{\hyperlink{classcrow_1_1hostaddr__view}{crow\+::hostaddr\+\_\+view}} \&addr, const std\+::string\+\_\+view $\ast$vec, size\+\_\+t veclen, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, uint16\+\_\+t \mbox{\hyperlink{packet_8h_ae3cd29bdc0b37cdc21a92911b61c9b59}{ackquant}}, bool fastsend=C\+R\+O\+W\+\_\+\+F\+A\+S\+T\+S\+E\+N\+D\+\_\+\+D\+E\+F\+A\+U\+LT)
\item 
\mbox{\Hypertarget{namespacecrow_a1ea480d9f9119aa4a7a06fcec09b2a2a}\label{namespacecrow_a1ea480d9f9119aa4a7a06fcec09b2a2a}} 
\mbox{\hyperlink{classcrow_1_1node}{crow\+::node}} $\ast$ {\bfseries find\+\_\+node} (int id)
\item 
\mbox{\Hypertarget{namespacecrow_a5877c10add6a8b80e8a85c36b44f6fd9}\label{namespacecrow_a5877c10add6a8b80e8a85c36b44f6fd9}} 
void {\bfseries \+\_\+\+\_\+link\+\_\+node} (\mbox{\hyperlink{classcrow_1_1node}{node}} $\ast$srvs, uint16\+\_\+t id)
\item 
\mbox{\Hypertarget{namespacecrow_a120e0c3b6945c9807564f563c610e328}\label{namespacecrow_a120e0c3b6945c9807564f563c610e328}} 
void {\bfseries bind\+\_\+node\+\_\+dynamic} (\mbox{\hyperlink{classcrow_1_1node}{node}} $\ast$srvs)
\item 
\mbox{\Hypertarget{namespacecrow_a7afce3cbef9d6767a4436532ceef100e}\label{namespacecrow_a7afce3cbef9d6767a4436532ceef100e}} 
\mbox{\hyperlink{classcrow_1_1packet__ptr}{crow\+::packet\+\_\+ptr}} {\bfseries publish} (const \mbox{\hyperlink{classcrow_1_1hostaddr__view}{crow\+::hostaddr\+\_\+view}} \&addr, const std\+::string\+\_\+view theme, const std\+::string\+\_\+view data, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, uint16\+\_\+t acktime, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a1d127017fb298b889f4ba24752d08b8e}{type}}=P\+U\+B\+L\+I\+SH)
\item 
\mbox{\Hypertarget{namespacecrow_af0092a383c82e94cf6b6725a420fa83d}\label{namespacecrow_af0092a383c82e94cf6b6725a420fa83d}} 
\mbox{\hyperlink{classcrow_1_1packet__ptr}{crow\+::packet\+\_\+ptr}} {\bfseries publish\+\_\+v} (const \mbox{\hyperlink{classcrow_1_1hostaddr__view}{crow\+::hostaddr\+\_\+view}} \&addr, const std\+::string\+\_\+view theme, const std\+::string\+\_\+view $\ast$vec, int vecsz, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, uint16\+\_\+t acktime)
\item 
\mbox{\Hypertarget{namespacecrow_ae37f6323015908ab6ff2cd5384015a50}\label{namespacecrow_ae37f6323015908ab6ff2cd5384015a50}} 
void {\bfseries subscribe} (const \mbox{\hyperlink{classcrow_1_1hostaddr__view}{crow\+::hostaddr\+\_\+view}} \&addr, std\+::string\+\_\+view theme, uint8\+\_\+t qo0, uint16\+\_\+t acktime, uint8\+\_\+t rqos, uint16\+\_\+t racktime)
\item 
\mbox{\Hypertarget{namespacecrow_ac3500bb5aa397e319ad180448085b5ce}\label{namespacecrow_ac3500bb5aa397e319ad180448085b5ce}} 
void {\bfseries select\+\_\+collect\+\_\+fds} ()
\item 
\mbox{\Hypertarget{namespacecrow_a1629ee4e9b6e6f370954528732365f82}\label{namespacecrow_a1629ee4e9b6e6f370954528732365f82}} 
void {\bfseries add\+\_\+select\+\_\+fd} (int fd)
\item 
\mbox{\Hypertarget{namespacecrow_aa126ae2053e8b9e81091ce83312e3ef5}\label{namespacecrow_aa126ae2053e8b9e81091ce83312e3ef5}} 
void {\bfseries select} ()
\item 
\mbox{\Hypertarget{namespacecrow_afda684ced9762525a112afa1e2683555}\label{namespacecrow_afda684ced9762525a112afa1e2683555}} 
void {\bfseries unselect} ()
\item 
\mbox{\Hypertarget{namespacecrow_a692c8f25686e1a22873287c484f184f4}\label{namespacecrow_a692c8f25686e1a22873287c484f184f4}} 
void {\bfseries unselect\+\_\+init} ()
\item 
\mbox{\Hypertarget{namespacecrow_a3c3bbeba11581240ea40340a3e87e458}\label{namespacecrow_a3c3bbeba11581240ea40340a3e87e458}} 
\mbox{\hyperlink{classcrow_1_1packet__ptr}{packet\+\_\+ptr}} {\bfseries travel} (\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack)
\item 
\mbox{\Hypertarget{namespacecrow_a491dda4a2af3ecac474f41d1f0527e7b}\label{namespacecrow_a491dda4a2af3ecac474f41d1f0527e7b}} 
void {\bfseries nocontrol\+\_\+travel} (\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack, bool fastsend)
\item 
\mbox{\Hypertarget{namespacecrow_adc73ff065d295683b4f2eb1e13c773e1}\label{namespacecrow_adc73ff065d295683b4f2eb1e13c773e1}} 
void {\bfseries enable\+\_\+diagnostic} ()
\item 
\mbox{\Hypertarget{namespacecrow_ae78e4c93b92edce9ef49cb53e5fbb312}\label{namespacecrow_ae78e4c93b92edce9ef49cb53e5fbb312}} 
void {\bfseries enable\+\_\+live\+\_\+diagnostic} ()
\item 
\mbox{\Hypertarget{namespacecrow_a4a5f8f60d8ec8934ffe87a9271c65d19}\label{namespacecrow_a4a5f8f60d8ec8934ffe87a9271c65d19}} 
void {\bfseries diagnostic\+\_\+setup} (bool en, bool len=false)
\item 
\mbox{\Hypertarget{namespacecrow_a600686ca2cf7e61d2dce059a1eec57b4}\label{namespacecrow_a600686ca2cf7e61d2dce059a1eec57b4}} 
\mbox{\hyperlink{classcrow_1_1packet__ptr}{crow\+::packet\+\_\+ptr}} {\bfseries send} (const \mbox{\hyperlink{classcrow_1_1hostaddr__view}{crow\+::hostaddr\+\_\+view}} \&addr, std\+::string\+\_\+view data, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a1d127017fb298b889f4ba24752d08b8e}{type}}, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, uint16\+\_\+t \mbox{\hyperlink{packet_8h_ae3cd29bdc0b37cdc21a92911b61c9b59}{ackquant}}, bool fastsend=C\+R\+O\+W\+\_\+\+F\+A\+S\+T\+S\+E\+N\+D\+\_\+\+D\+E\+F\+A\+U\+LT)
\item 
\mbox{\Hypertarget{namespacecrow_aaade941ac6ff4d10be46305344db931f}\label{namespacecrow_aaade941ac6ff4d10be46305344db931f}} 
\mbox{\hyperlink{classcrow_1_1packet__ptr}{crow\+::packet\+\_\+ptr}} {\bfseries send\+\_\+v} (const \mbox{\hyperlink{classcrow_1_1hostaddr__view}{crow\+::hostaddr\+\_\+view}} \&addr, const std\+::string\+\_\+view $\ast$vec, size\+\_\+t veclen, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a1d127017fb298b889f4ba24752d08b8e}{type}}, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, uint16\+\_\+t \mbox{\hyperlink{packet_8h_ae3cd29bdc0b37cdc21a92911b61c9b59}{ackquant}}, bool fastsend=C\+R\+O\+W\+\_\+\+F\+A\+S\+T\+S\+E\+N\+D\+\_\+\+D\+E\+F\+A\+U\+LT)
\item 
\mbox{\Hypertarget{namespacecrow_aba26fff4fd0d5105bcd3d3b606368fb5}\label{namespacecrow_aba26fff4fd0d5105bcd3d3b606368fb5}} 
\mbox{\hyperlink{classcrow_1_1packet__ptr}{crow\+::packet\+\_\+ptr}} {\bfseries send\+\_\+vv} (const \mbox{\hyperlink{classcrow_1_1hostaddr__view}{crow\+::hostaddr\+\_\+view}} \&addr, const std\+::string\+\_\+view $\ast$vec, size\+\_\+t veclen, const std\+::string\+\_\+view $\ast$vec2, size\+\_\+t veclen2, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a1d127017fb298b889f4ba24752d08b8e}{type}}, uint8\+\_\+t \mbox{\hyperlink{packet_8h_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, uint16\+\_\+t \mbox{\hyperlink{packet_8h_ae3cd29bdc0b37cdc21a92911b61c9b59}{ackquant}}, bool fastsend=C\+R\+O\+W\+\_\+\+F\+A\+S\+T\+S\+E\+N\+D\+\_\+\+D\+E\+F\+A\+U\+LT)
\item 
\mbox{\Hypertarget{namespacecrow_a04fd13156cc9438f135621cebb89c610}\label{namespacecrow_a04fd13156cc9438f135621cebb89c610}} 
void {\bfseries return\+\_\+to\+\_\+tower} (\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack, uint8\+\_\+t sts)
\item 
\mbox{\Hypertarget{namespacecrow_aef22ff282d98229eb9eb6e834f67a0e3}\label{namespacecrow_aef22ff282d98229eb9eb6e834f67a0e3}} 
void {\bfseries release} (\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack)
\item 
\mbox{\Hypertarget{namespacecrow_a2685686905310f61d08294927ac0837e}\label{namespacecrow_a2685686905310f61d08294927ac0837e}} 
uint16\+\_\+t {\bfseries millis} ()
\item 
\mbox{\Hypertarget{namespacecrow_adff595344c299fce4708c4fd9457e953}\label{namespacecrow_adff595344c299fce4708c4fd9457e953}} 
void {\bfseries onestep} ()
\item 
\mbox{\Hypertarget{namespacecrow_a67af44d5fd79d07df421763b6389808a}\label{namespacecrow_a67af44d5fd79d07df421763b6389808a}} 
void {\bfseries onestep\+\_\+travel\+\_\+only} ()
\item 
\mbox{\Hypertarget{namespacecrow_ab2e03f42f0952c3fe74cc33106e1a308}\label{namespacecrow_ab2e03f42f0952c3fe74cc33106e1a308}} 
void {\bfseries spin} ()
\item 
\mbox{\Hypertarget{namespacecrow_a06dad0b8b6585ad6ff4139860111ae68}\label{namespacecrow_a06dad0b8b6585ad6ff4139860111ae68}} 
void {\bfseries spin\+\_\+with\+\_\+select} ()
\item 
\mbox{\Hypertarget{namespacecrow_a932f3199daaa9227e3a6ca5cc89540ca}\label{namespacecrow_a932f3199daaa9227e3a6ca5cc89540ca}} 
void {\bfseries spin\+\_\+with\+\_\+select\+\_\+realtime} (int abort\+\_\+on\+\_\+fault)
\item 
\mbox{\Hypertarget{namespacecrow_a337f7290f936e899f76b861ba0ce47eb}\label{namespacecrow_a337f7290f936e899f76b861ba0ce47eb}} 
int {\bfseries stop\+\_\+spin} (bool wait=true)
\item 
\mbox{\Hypertarget{namespacecrow_a583e08f768b6ac185a26bd4f21f72ed0}\label{namespacecrow_a583e08f768b6ac185a26bd4f21f72ed0}} 
int {\bfseries start\+\_\+spin\+\_\+with\+\_\+select} ()
\item 
\mbox{\Hypertarget{namespacecrow_abfb646d02177d5e0a9c14bf27a52539d}\label{namespacecrow_abfb646d02177d5e0a9c14bf27a52539d}} 
int {\bfseries start\+\_\+spin\+\_\+with\+\_\+select\+\_\+realtime} (int abort\+\_\+on\+\_\+fault)
\item 
\mbox{\Hypertarget{namespacecrow_a95b62101e9d2c961ab0a4d36e6cbf709}\label{namespacecrow_a95b62101e9d2c961ab0a4d36e6cbf709}} 
int {\bfseries start\+\_\+spin\+\_\+without\+\_\+select} ()
\item 
\mbox{\Hypertarget{namespacecrow_a1d95704f2a5edb2e68018ff86b5d23e7}\label{namespacecrow_a1d95704f2a5edb2e68018ff86b5d23e7}} 
int {\bfseries start\+\_\+spin} ()
\item 
\mbox{\Hypertarget{namespacecrow_a7e337834c7d2153c642a7c57d7f6a4be}\label{namespacecrow_a7e337834c7d2153c642a7c57d7f6a4be}} 
int {\bfseries start\+\_\+spin\+\_\+realtime} (int abort\+\_\+on\+\_\+fault)
\item 
\mbox{\Hypertarget{namespacecrow_a9f7e06bc5b55321bd21bbf647758b6be}\label{namespacecrow_a9f7e06bc5b55321bd21bbf647758b6be}} 
void {\bfseries start\+\_\+resubscribe\+\_\+thread} (int millis)
\item 
\mbox{\Hypertarget{namespacecrow_a43e53f1b5c0099fc76a989e58692c18b}\label{namespacecrow_a43e53f1b5c0099fc76a989e58692c18b}} 
void {\bfseries spin\+\_\+join} ()
\item 
\mbox{\Hypertarget{namespacecrow_a6509de78444ad3726294e98383e16dbb}\label{namespacecrow_a6509de78444ad3726294e98383e16dbb}} 
void {\bfseries join\+\_\+spin} ()
\item 
\mbox{\Hypertarget{namespacecrow_a21ca12f1d0ae6904feee6c6f637e57a0}\label{namespacecrow_a21ca12f1d0ae6904feee6c6f637e57a0}} 
bool {\bfseries has\+\_\+untravelled} ()
\item 
\mbox{\Hypertarget{namespacecrow_a8d05dc5789ebc909f1f1d2112ecc6718}\label{namespacecrow_a8d05dc5789ebc909f1f1d2112ecc6718}} 
bool {\bfseries has\+\_\+untravelled\+\_\+now} ()
\item 
\mbox{\Hypertarget{namespacecrow_a7915a7cd6379eaffcff8402b6174c27e}\label{namespacecrow_a7915a7cd6379eaffcff8402b6174c27e}} 
void {\bfseries print\+\_\+list\+\_\+counts} ()
\item 
\mbox{\Hypertarget{namespacecrow_a2108cd8089ae0f1401196baf6c53aa31}\label{namespacecrow_a2108cd8089ae0f1401196baf6c53aa31}} 
bool {\bfseries fully\+\_\+empty} ()
\item 
\mbox{\Hypertarget{namespacecrow_ad84a954ac60d7bf115b5c1ac594a498d}\label{namespacecrow_ad84a954ac60d7bf115b5c1ac594a498d}} 
int64\+\_\+t {\bfseries get\+\_\+minimal\+\_\+timeout} ()
\item 
\mbox{\Hypertarget{namespacecrow_a7dd4132287bbe302001135fd2f01fb95}\label{namespacecrow_a7dd4132287bbe302001135fd2f01fb95}} 
void {\bfseries finish} ()
\item 
\mbox{\Hypertarget{namespacecrow_a70e7084eac808b19f170eaabf15c22cd}\label{namespacecrow_a70e7084eac808b19f170eaabf15c22cd}} 
void {\bfseries warn} (std\+::string\+\_\+view msg)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacecrow_a31b6e2ab18378c37ae2e7ff04c68e173}\label{namespacecrow_a31b6e2ab18378c37ae2e7ff04c68e173}} 
igris\+::dlist$<$ \mbox{\hyperlink{classcrow_1_1gateway}{crow\+::gateway}}, \&\mbox{\hyperlink{classcrow_1_1gateway_a509bc53add01966f1dad093d5ee1ff0b}{crow\+::gateway\+::lnk}} $>$ {\bfseries gateway\+\_\+list}
\item 
\mbox{\Hypertarget{namespacecrow_a5047d3e5e234ec290fc4d28e1173f163}\label{namespacecrow_a5047d3e5e234ec290fc4d28e1173f163}} 
struct \mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} {\bfseries \+\_\+\+\_\+attribute\+\_\+\+\_\+}
\item 
\mbox{\Hypertarget{namespacecrow_a0701ef16c64052fb1e0d35b069e6d1de}\label{namespacecrow_a0701ef16c64052fb1e0d35b069e6d1de}} 
int {\bfseries allocated\+\_\+count} = 0
\item 
\mbox{\Hypertarget{namespacecrow_a35cd297caa41593fafa55352a8d6b1c3}\label{namespacecrow_a35cd297caa41593fafa55352a8d6b1c3}} 
\mbox{\hyperlink{classcrow_1_1node__protocol__cls}{node\+\_\+protocol\+\_\+cls}} {\bfseries node\+\_\+protocol}
\item 
\mbox{\Hypertarget{namespacecrow_a3110c0558ba440255f46bd7c24484dae}\label{namespacecrow_a3110c0558ba440255f46bd7c24484dae}} 
igris\+::dlist$<$ \mbox{\hyperlink{classcrow_1_1node}{node}}, \&node\+::lnk $>$ {\bfseries nodes\+\_\+list}
\item 
\mbox{\Hypertarget{namespacecrow_adfdb4809133f60f58abb4941f6333e7b}\label{namespacecrow_adfdb4809133f60f58abb4941f6333e7b}} 
\mbox{\hyperlink{classcrow_1_1pubsub__protocol__cls}{pubsub\+\_\+protocol\+\_\+cls}} {\bfseries pubsub\+\_\+protocol}
\item 
\mbox{\Hypertarget{namespacecrow_a9504cd3afd7277d535599a4a1bf58e4c}\label{namespacecrow_a9504cd3afd7277d535599a4a1bf58e4c}} 
int {\bfseries unselect\+\_\+pipe} \mbox{[}2\mbox{]}
\item 
\mbox{\Hypertarget{namespacecrow_a7b2fd5e24b3a6100b803f6d6801cc5bc}\label{namespacecrow_a7b2fd5e24b3a6100b803f6d6801cc5bc}} 
bool {\bfseries add\+\_\+unselect\+\_\+to\+\_\+fds} = false
\item 
\mbox{\Hypertarget{namespacecrow_afb30c6a228c475a6a9d59fa67db8f489}\label{namespacecrow_afb30c6a228c475a6a9d59fa67db8f489}} 
uint16\+\_\+t {\bfseries debug\+\_\+data\+\_\+size} = 28
\item 
\mbox{\Hypertarget{namespacecrow_ab7c785b3d02328ab8bedf55c291f72f4}\label{namespacecrow_ab7c785b3d02328ab8bedf55c291f72f4}} 
dlist\+\_\+head {\bfseries protocols}
\item 
\mbox{\Hypertarget{namespacecrow_a1fefa94500c2d3dd9a55986ffed5e2a8}\label{namespacecrow_a1fefa94500c2d3dd9a55986ffed5e2a8}} 
bool {\bfseries diagnostic\+\_\+noack} = false
\item 
\mbox{\Hypertarget{namespacecrow_a14df20ec64b09fde29e6fb7e969e1d91}\label{namespacecrow_a14df20ec64b09fde29e6fb7e969e1d91}} 
unsigned int {\bfseries total\+\_\+travelled}
\item 
\mbox{\Hypertarget{namespacecrow_ab94318d537bdeba015e3577ed0fdd842}\label{namespacecrow_ab94318d537bdeba015e3577ed0fdd842}} 
void($\ast$ {\bfseries user\+\_\+incoming\+\_\+handler} )(\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack) = nullptr
\item 
\mbox{\Hypertarget{namespacecrow_aaac7ee39bd7e88547c02db17f24bd26c}\label{namespacecrow_aaac7ee39bd7e88547c02db17f24bd26c}} 
void($\ast$ {\bfseries user\+\_\+type\+\_\+handler} )(\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack) = nullptr
\item 
\mbox{\Hypertarget{namespacecrow_a4fcc5ed172dd27b7246583ab76c0b89e}\label{namespacecrow_a4fcc5ed172dd27b7246583ab76c0b89e}} 
void($\ast$ {\bfseries undelivered\+\_\+handler} )(\mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$pack) = nullptr
\item 
\mbox{\Hypertarget{namespacecrow_ab13104d58de22130bd5764340d2a1a8f}\label{namespacecrow_ab13104d58de22130bd5764340d2a1a8f}} 
void($\ast$ {\bfseries unsleep\+\_\+handler} )() = nullptr
\item 
\mbox{\Hypertarget{namespacecrow_a72a23b49b65d50d82b504060ada8e7f9}\label{namespacecrow_a72a23b49b65d50d82b504060ada8e7f9}} 
bool {\bfseries retransling\+\_\+allowed} = false
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Абстрактный класс врат. Врата отвечают за пересылку пакетов между башнями. 

Может некоторое время хранить отправляемые пакеты.

Протокол для брокера на основе механизма нодов и почтового ящика. Позволяет зарегистрировать сервис в брокере, передавать команды и получать ответы. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacecrow_af869be273dc57c52d94578cccf668f6c}\label{namespacecrow_af869be273dc57c52d94578cccf668f6c}} 
\index{crow@{crow}!allocate\_packet@{allocate\_packet}}
\index{allocate\_packet@{allocate\_packet}!crow@{crow}}
\doxysubsubsection{\texorpdfstring{allocate\_packet()}{allocate\_packet()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcrow_1_1packet}{crow\+::packet}} $\ast$ crow\+::allocate\+\_\+packet (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{adlen }\end{DoxyParamCaption})}

Выделить память для пакета.

Выделяет adlen + sizeof(crow\+::packet) байт 
\begin{DoxyParams}{Parameters}
{\em adlen} & Суммарная длина адреса и данных в выделяемом пакете. \\
\hline
\end{DoxyParams}
